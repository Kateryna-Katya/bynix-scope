{"version":3,"file":"main-ZDLc-Gms.js","sources":["../../src/main.js"],"sourcesContent":["// Глобальный файл скриптов\ndocument.addEventListener('DOMContentLoaded', () => {\n    console.log(\"bynix-scope.org: Скрипты загружены.\");\n\n    // =======================================================\n    // 1. Mobile Menu Logic (Изменений нет)\n    // =======================================================\n    const menuToggle = document.querySelector('.header__toggle');\n    const mobileMenu = document.getElementById('mobileMenu');\n    const mobileOverlay = document.getElementById('mobileOverlay');\n    const menuCloseButton = document.querySelector('.mobile-menu__close');\n    const mobileLinks = mobileMenu.querySelectorAll('a');\n\n    const openMenu = () => {\n        mobileMenu.classList.add('mobile-menu--open');\n        mobileOverlay.classList.add('mobile-menu-overlay--visible');\n        document.body.style.overflow = 'hidden'; \n    };\n\n    const closeMenu = () => {\n        mobileMenu.classList.remove('mobile-menu--open');\n        mobileOverlay.classList.remove('mobile-menu-overlay--visible');\n        document.body.style.overflow = ''; \n    };\n\n    menuToggle.addEventListener('click', openMenu);\n    menuCloseButton.addEventListener('click', closeMenu);\n    mobileOverlay.addEventListener('click', closeMenu);\n\n    mobileLinks.forEach(link => {\n        link.addEventListener('click', closeMenu);\n    });\n\n    document.addEventListener('keydown', (e) => {\n        if (e.key === 'Escape' && mobileMenu.classList.contains('mobile-menu--open')) {\n            closeMenu();\n        }\n    });\n\n    // =======================================================\n    // 2. Hero Section Animation (GSAP + SplitType) (Изменений нет)\n    // =======================================================\n    if (typeof gsap !== 'undefined' && typeof SplitType !== 'undefined') {\n        gsap.registerPlugin(ScrollTrigger);\n        \n        // Hero Title Animation\n        const heroTitle = new SplitType('.hero__title', { types: 'words' });\n\n        gsap.from(heroTitle.words, {\n            y: 50,\n            opacity: 0,\n            rotationX: -90,\n            stagger: 0.05, \n            duration: 1.2,\n            ease: \"power3.out\",\n            delay: 0.5,\n            onComplete: () => {\n                heroTitle.revert();\n            }\n        });\n\n        // Other elements\n        gsap.from('.hero__subtitle', { y: 20, opacity: 0, duration: 1, delay: 1.5, ease: \"power2.out\" });\n        gsap.from('.hero__actions .button', { opacity: 0, y: 20, duration: 0.8, delay: 1.8, stagger: 0.2, ease: \"power2.out\" });\n        gsap.from('.hero__img-placeholder', { opacity: 0, scale: 0.9, duration: 1, delay: 2.2, ease: \"power2.out\" });\n        \n        // BONUS: Scroll animation for Benefits cards\n        gsap.from('.benefits__card', {\n            y: 50,\n            opacity: 0,\n            stagger: 0.3,\n            duration: 0.8,\n            ease: \"power1.out\",\n            scrollTrigger: {\n                trigger: '.benefits__grid',\n                start: 'top 85%', \n                toggleActions: 'play none none none'\n            }\n        });\n        \n    } else {\n        console.warn(\"GSAP или SplitType не загружены.\");\n    }\n\n    // =======================================================\n    // 3. Contact Form Logic (Этап 4)\n    // =======================================================\n    const contactForm = document.getElementById('contactForm');\n    const successMessage = document.getElementById('successMessage');\n    const captchaQuestion = document.getElementById('captchaQuestion');\n    const phoneInput = document.getElementById('phone');\n\n    // Капча: генерируем случайный пример\n    let num1 = Math.floor(Math.random() * 5) + 3; // 3-7\n    let num2 = Math.floor(Math.random() * 5) + 1; // 1-5\n    let correctCaptchaAnswer = num1 + num2;\n    captchaQuestion.textContent = `${num1} + ${num2}`;\n\n    // Валидация телефона: только цифры\n    phoneInput.addEventListener('input', (e) => {\n        e.target.value = e.target.value.replace(/\\D/g, ''); // Удаляем все, кроме цифр\n    });\n\n    contactForm.addEventListener('submit', function(e) {\n        e.preventDefault();\n\n        const captchaInput = document.getElementById('captcha');\n        const submittedAnswer = parseInt(captchaInput.value, 10);\n        \n        // Проверка капчи\n        if (submittedAnswer !== correctCaptchaAnswer) {\n            alert('Неправильный ответ на капчу. Пожалуйста, попробуйте снова.');\n            \n            // Генерируем новый пример\n            num1 = Math.floor(Math.random() * 5) + 3;\n            num2 = Math.floor(Math.random() * 5) + 1;\n            correctCaptchaAnswer = num1 + num2;\n            captchaQuestion.textContent = `${num1} + ${num2}`;\n            captchaInput.value = '';\n            \n            return;\n        }\n\n        // Имитация AJAX-отправки\n        const formData = new FormData(contactForm);\n        console.log('Form data:', Object.fromEntries(formData.entries()));\n        \n        // Скрываем форму и показываем сообщение об успехе\n        contactForm.style.display = 'none';\n        successMessage.style.display = 'block';\n\n        // Анимация успеха (опционально, но красиво)\n        gsap.from(successMessage, { opacity: 0, scale: 0.8, duration: 0.5, ease: \"back.out(1.7)\" });\n\n        // Очистка формы (не обязательно, так как она скрыта, но хорошая практика)\n        contactForm.reset();\n    });\n\n    // =======================================================\n    // 4. Cookie Popup Logic (Этап 5)\n    // =======================================================\n    const cookiePopup = document.getElementById('cookiePopup');\n    const acceptButton = document.getElementById('acceptCookies');\n    const localStorageKey = 'cookiesAccepted';\n\n    // Проверка статуса в LocalStorage\n    if (localStorage.getItem(localStorageKey) !== 'true') {\n        // Показываем с небольшой задержкой для плавности\n        setTimeout(() => {\n            cookiePopup.classList.add('cookie-popup--visible');\n        }, 1000);\n    }\n\n    // Обработчик кнопки \"Принять\"\n    acceptButton.addEventListener('click', () => {\n        // Устанавливаем статус в LocalStorage\n        localStorage.setItem(localStorageKey, 'true');\n        \n        // Плавно скрываем окно\n        gsap.to(cookiePopup, { \n            opacity: 0, \n            y: 20, \n            duration: 0.5, \n            onComplete: () => {\n                cookiePopup.style.display = 'none';\n            }\n        });\n    });\n\n    // =======================================================\n    // 5. Инициализация иконок Lucide (если не используется CDN)\n    // =======================================================\n    if (typeof lucide !== 'undefined') {\n        lucide.createIcons();\n    }\n});"],"names":["menuToggle","mobileMenu","mobileOverlay","menuCloseButton","mobileLinks","openMenu","closeMenu","link","e","heroTitle","contactForm","successMessage","captchaQuestion","phoneInput","num1","num2","correctCaptchaAnswer","captchaInput","formData","cookiePopup","acceptButton","localStorageKey"],"mappings":"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"}